<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- ... 가능한 CSS, JS 링크, meta 태그 등을 여기에 넣습니다 ... -->
</head>
<style>
	li{
		box-sizing: border-box;
	}
	form{
		display: inline-block;
	}
</style>
<body>
<th:block th:replace="~{/layout/layout :: setContent( ~{:: .wrap})}">
<div class="wrap">
    <div class="warp_inner">
        <div class="right_content">
            <div class="midiaq">
                <div class="page_title">TI</div>
                <form name="searchForm" action="@{/productpage}" method="get">
                    <input type="hidden" name="page" value="1">
                    <input type="hidden" name="amount" value="">
                    <div class="search_block flfull">
                        <div class="fl">
                            <div>
                                <span class="search_th">상품이름 검색</span>
                                <input type="text" class="" placeholder="상품 검색" name="searchName" value="">
                            </div>
                        </div>
                        <div class="fr">
                            <div class="search_btn_area">
                                <a href="#" class="normal_btn purplebtn" id="searchBtn">검색</a>
                            </div>
                        </div>
                    </div>

                    <div class="full_collum collum">
                        <ul>
                            <li class="collum_tit">
                                <span><a href="#" th:style="'color:white'" name="searchSold" value="">판매량 순</a></span>
                                <span><a href="#" th:style="'color:white'" name="searchNewItem" value="">신상품 순</a></span>
                                <span><a href="#" th:style="'color:white'" name="searchRowPrice" value="">낮은가격 순</a></span>
                                <span><a href="#" th:style="'color:white'" name="searchHighPrice" value="">높은가격 순</a></span>

                                <select class="" onchange="handleChange(event)">
                                    <option value="20">20개 보기</option>
                                    <option value="30">30개 보기</option>
                                    <option value="40">40개 보기</option>
                                    <option value="50">50개 보기</option>
                                </select>
                                <span class="showtoggle minus"></span>
                                <ul>
                                    <li>
                                        <div class="showproduct">
                                            <ul class="imagelist">
                                                <li th:each="vo, status : ${list}">
                                                    <img src="/img/1.jpg">
                                                    <p>[[${vo.product_name}]]</p>
                                                    <p>[[${vo.product_price}]]</p>
                                                    <p>[[${vo.product_soldcount}]]</p>
                                                    <input type="hidden" th:value="${vo.product_no}">
                                                    <form  action="/cart/getUserCartList" method="post">
										    			<input type="hidden" name="product_no" th:value="${vo.product_no}">
										    			<input type="hidden" name="boxcount" value="1">
										    			<input type="hidden" name="product_price" th:value="${vo.product_price}">
										    			<input type="hidden" name="user_id" th:value="${session.userVO.userId}">
										    			<input type="hidden" name="category_id" th:value="${vo.category_no}">
										    			<input type="hidden" name="product_name" th:value="${vo.product_name}">
										    			<button type="submit">장바구니 추가</button>
													</form>
													<button><a th:href="@{/order/order(product_no=${vo.product_no})}">바로구매</a></button>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</th:block>
<script th:inline="javascript">
	var msg = '[[${msg}]]';
	
	if(msg.trim() != 'null') {
		alert(msg);
	}
	
    function handleChange(event) {
        document.searchForm.amount.value = event.target.value;
        document.searchForm.submit();
    }

    var searchBtn = document.getElementById("searchBtn");
    searchBtn.onclick = function(event) {
        event.preventDefault(); // Prevent the default action
        document.searchForm.submit();
    }
</script>
</body>
</html>
위 코드는 구조와 일부 문법 오류를 수정한 버전입니다. 실제 실행 환경에서 다른 문제가 발생할 수 있으므로, 반드시 로컬 환경에서 테스트한 후에 실제 환경에 적용하는 것이 좋습니다.





